PACKAGE_NAME = @PACKAGE_NAME@
PACKAGE_VERSION = @PACKAGE_VERSION@
RELDIR = releases/$(PACKAGE_NAME)-$(PACKAGE_VERSION)
export ROOT_DIR = @abs_srcdir@
 
ifeq ($(shell uname),Linux)
	ARCH = linux
else
	ARCH = macosx
endif
 
all:
	@(echo @PACKAGE_VERSION@ > VERSION)	
	@(cd lib/erlang;$(MAKE) boot)

release:
	@(rm -rf rel/beehive rel/reltool.config)
	@(ln rel/beehive.config rel/reltool.config)
	@echo Generating erlang release
	@(make rel_erlang)

rel_erlang:
	@(cd rel; ./rebar generate)
	@(cd rel; $(MAKE))
	@rm -rf rel/reltool.config

erl:
	@(cd lib/erlang;$(MAKE); $(MAKE) boot)

docs:
	@(cd lib/erlang; $(MAKE) docs)
	
clean:
	@(cd lib/erlang;$(MAKE) clean)
	@(rm -rf *.log)

deep_clean: clean
	@(echo "Cleaning babysitter")
	@(rm -rf autom4te.cache config.log config.status build)

test: all
	@(cd lib/erlang; $(MAKE) test)
 
install: all
	@(cd lib/erlang; $(MAKE) install)
 
debug:
	@(cd lib/erlang;$(MAKE) debug)
